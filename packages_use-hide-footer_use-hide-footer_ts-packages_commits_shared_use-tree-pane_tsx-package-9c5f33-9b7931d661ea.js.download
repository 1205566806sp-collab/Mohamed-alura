"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["packages_use-hide-footer_use-hide-footer_ts-packages_commits_shared_use-tree-pane_tsx-package-9c5f33"],{70719:(e,t,n)=>{n.d(t,{U:()=>c});var i=n(21728),r=n(96379),l=n(97665),a=n(94747),o=n(79472),s=n(21067);function c(e){let t,n,r,s,c=(0,i.c)(10),{onSuccess:f,onError:m}=e,u=(0,l.jE)();return c[0]!==u?(t=async e=>{u.setQueryData((0,o.w$)(),t=>({...t,...e}))},c[0]=u,c[1]=t):t=c[1],c[2]!==f?(n=()=>{f()},c[2]=f,c[3]=n):n=c[3],c[4]!==m?(r=e=>{m(e)},c[4]=m,c[5]=r):r=c[5],c[6]!==t||c[7]!==n||c[8]!==r?(s={mutationFn:d,onMutate:t,onSuccess:n,onError:r},c[6]=t,c[7]=n,c[8]=r,c[9]=s):s=c[9],(0,a.n)(s)}async function d(e){let{commentsPreference:t,lineSpacing:n,splitPreference:i}=e;if(!(0,s.M3)())return;let l={};t&&(l={...l,commentsPreference:t}),n&&(l={...l,lineSpacing:n}),i&&(l={...l,diff:i});let a=await (0,r.Sr)("/users/diffview",{method:"POST",headers:{Accept:"application/json"},body:l}),o=await a.json();if(a.ok)return o;throw Error(o.error||"Unknown error occurred",{cause:a.status})}},34535:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(96540);function r({focusRowRef:e,mouseRowRef:t}){let[n,r]=i.useState(!1);return i.useEffect(()=>{if(e.current&&t.current){let n=()=>{let t=e.current?.querySelector(".PRIVATE_TreeView-item-content-text");t?.scrollWidth!==t?.offsetWidth&&r(!0)};e.current.onfocus=()=>{n()},e.current.onblur=()=>{r(!1)},t.current.onmouseenter=()=>{n()},t.current.onmouseleave=()=>{r(!1)}}},[e,t]),n}},70843:(e,t,n)=>{n.d(t,{L:()=>r});var i=n(96540);function r(e){(0,i.useEffect)(()=>{if(!e)return;let t=document.querySelector(".footer");if(t)return t.hidden=!0,()=>{t.hidden=!1}},[e])}},46001:(e,t,n)=>{n.d(t,{q:()=>u});var i=n(74848),r=n(8624),l=n(94195),a=n(54571),o=n(96540),s=n(25407),c=n(96379);async function d(e,t){if(!t)return;let n=new FormData;n.set("file_tree_visible",e?"true":"false"),(0,c.DI)((0,s.h6D)(t),{method:"PUT",body:n,headers:{Accept:"application/json"}})}let f={sm:l.Gy.small,md:l.Gy.medium,lg:l.Gy.large},m={size:"medium",mobileBreakpoint:"md"};function u(e,t,n,s){let c={...m,...s},[u]=(0,a.I)(()=>!1,!0,[]),h=(0,o.useRef)(null),p=(0,o.useRef)(null),x=f[c.mobileBreakpoint??"md"],[g,y]=(0,o.useState)(t),[v,b]=(0,o.useState)(!1),j=(0,o.useCallback)(()=>{(0,l.nn)(window.innerWidth)<=x?(b(!0),requestAnimationFrame(()=>p.current?.focus())):(y(!0),d(!0,n),requestAnimationFrame(()=>h.current?.focus()))},[x,n]),_=(0,o.useCallback)(()=>{(0,l.nn)(window.innerWidth)<=x?(b(!1),requestAnimationFrame(()=>p.current?.focus())):(y(!1),d(!1,n),requestAnimationFrame(()=>h.current?.focus()))},[x,n]),S=(0,o.useMemo)(()=>(0,i.jsx)(r.L,{expanded:g,alignment:"left",ariaLabel:g?"Collapse file tree":"Expand file tree",tooltipDirection:"se",testid:"file-tree-button",ariaControls:e,ref:h,onToggleExpanded:()=>{g?_():j()},className:`d-none d-${c.mobileBreakpoint}-flex position-relative`,size:c.size}),[g,e,c.mobileBreakpoint,c.size,_,j]),w=(0,o.useMemo)(()=>(0,i.jsx)(r.L,{expanded:v,alignment:"left",ariaLabel:v?"Collapse file tree":"Expand file tree",tooltipDirection:"se",testid:"file-tree-button",ariaControls:e,ref:p,onToggleExpanded:()=>{v?_():j()},className:`d-${c.mobileBreakpoint}-none position-relative`,size:c.size}),[v,e,c.mobileBreakpoint,c.size,_,j]);return{splitPagePaneHidden:u&&!t,splitPageContentHidden:{narrow:v,regular:!1},isTreeExpanded:g,isMobileTreeExpanded:v,expandTree:j,collapseTree:_,treeToggleElement:(0,o.useMemo)(()=>(0,i.jsxs)(i.Fragment,{children:[w,S]}),[w,S]),treeToggleRef:h}}},78252:(e,t,n)=>{n.d(t,{$:()=>o});var i=n(74848),r=n(38621),l=n(52446),a=n(34720);let o=e=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.l.Divider,{}),(0,i.jsx)(a.t,{eventContext:{prx:!0},leadingVisual:(0,i.jsx)(r.CopilotIcon,{}),fileDiffReference:e.copilotChatReference})]});try{o.displayName||(o.displayName="CopilotDiffChatBlobActionsMenuItems")}catch{}},1946:(e,t,n)=>{n.d(t,{oj:()=>j,ZH:()=>y});var i=n(74848),r=n(21728),l=n(38621),a=n(96540),o=n(3614),s=n(81246),c=n(20426),d=n(25556),f=n(35311),m=n(78049),u=n(34535),h=n(61583),p=n(71315);let x={"file-tree-row":"DiffFileTree-module__file-tree-row--GJi_6"},g=(0,a.memo)(function(e){let t,n=(0,r.c)(2),{changeType:l}=e;return n[0]!==l?(t=(0,i.jsx)(m.E,{status:l}),n[0]=l,n[1]=t):t=n[1],t});g.displayName="FileStatusIconItem";let y=(0,a.memo)(function(e){let t,n,d,f,m,h,y,v,b,j=(0,r.c)(35),{file:_,depth:S,hash:w,onSelect:C}=e,N=(0,a.useRef)(null),D=(0,a.useRef)(null),E=`#diff-${_.diff.pathDigest}`;j[0]===Symbol.for("react.memo_cache_sentinel")?(t={focusRowRef:N,mouseRowRef:N},j[0]=t):t=j[0];let I=(0,u.Z)(t),T=_.diff.totalCommentsCount??0,P=_.diff.highestAnnotationLevel,k=null,R=_.fileName??"This file";switch(T>0&&(R+=` has ${T<10?T:"9+"} ${T>1?"comments":"comment"}`),P){case"WARNING":{let e;R+=`${T>0?" and":""} has warning annotations`,j[1]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)("div",{className:"pl-1 fgColor-attention",children:(0,i.jsx)(l.AlertIcon,{})}),j[1]=e):e=j[1],k=e;break}case"NOTICE":{let e;R+=`${T>0?" and":""} has notice annotations`,j[2]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)("div",{className:"pl-1 fgColor-default",children:(0,i.jsx)(l.InfoIcon,{})}),j[2]=e):e=j[2],k=e;break}case"FAILURE":{let e;R+=`${T>0?" and":""} has failure annotations`,j[3]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)("div",{className:"pl-1 fgColor-danger",children:(0,i.jsx)(l.XCircleFillIcon,{})}),j[3]=e):e=j[3],k=e}}j[4]!==_.diff.pathDigest||j[5]!==w?(n=()=>{if(N.current&&_.diff.pathDigest===w){let e=window.setTimeout(()=>{let e=p.XC?.getElementById("diff_file_tree")?.parentElement,t=N.current.offsetTop,n=p.cg?.innerHeight??0;e&&(e.scrollTop=t-n/2)},0);return()=>{window.clearTimeout(e)}}},d=[_.diff.pathDigest,w],j[4]=_.diff.pathDigest,j[5]=w,j[6]=n,j[7]=d):(n=j[6],d=j[7]),(0,a.useEffect)(n,d),j[8]!==E||j[9]!==_.diff||j[10]!==C?(f=e=>{if(e.nativeEvent instanceof KeyboardEvent){if(N?.current!==document.activeElement)return void e.preventDefault();if("Enter"===e.key||" "===e.key){e.preventDefault(),C?.(_.diff),D?.current?.click();return}}if(e.nativeEvent instanceof MouseEvent){if(e.metaKey||e.ctrlKey||1===e.button){e.preventDefault(),window.open(E,"_blank");return}C?.(_.diff),D?.current?.click()}},j[8]=E,j[9]=_.diff,j[10]=C,j[11]=f):f=j[11];let F=f,$=_.fileName??"";j[12]!==E||j[13]!==$?(m=(0,i.jsx)(s.A,{href:E,muted:!0,ref:D,role:"presentation",className:"fgColor-default",tabIndex:-1,children:$}),j[12]=E,j[13]=$,j[14]=m):m=j[14];let O=m,B=_.diff.pathDigest===w;return j[15]!==_.diff.changeType?(h=(0,i.jsx)(c.G.LeadingVisual,{children:(0,i.jsx)(g,{changeType:_.diff.changeType})}),j[15]=_.diff.changeType,j[16]=h):h=j[16],j[17]!==O||j[18]!==$||j[19]!==I?(y=I?(0,i.jsx)(o.m,{text:$,direction:"ne",children:O}):O,j[17]=O,j[18]=$,j[19]=I,j[20]=y):y=j[20],j[21]!==k||j[22]!==P||j[23]!==T?(v=(!!T||P)&&(0,i.jsx)(c.G.TrailingVisual,{children:(0,i.jsxs)("div",{className:"d-flex flex-items-center flex-row",children:[!!T&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.CommentIcon,{}),(0,i.jsx)("div",{className:"ml-1 text-bold fgColor-default f6",children:T<10?T:"9+"})]}),k]})}),j[21]=k,j[22]=P,j[23]=T,j[24]=v):v=j[24],j[25]!==S||j[26]!==_.diff.path||j[27]!==_.diff.pathDigest||j[28]!==F||j[29]!==R||j[30]!==B||j[31]!==h||j[32]!==y||j[33]!==v?(b=(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(c.G.Item,{defaultExpanded:!0,"aria-label":R,"aria-level":S,current:B,id:_.diff.path,onSelect:F,ref:N,className:x["file-tree-row"],children:[h,y,v]},_.diff.pathDigest)}),j[25]=S,j[26]=_.diff.path,j[27]=_.diff.pathDigest,j[28]=F,j[29]=R,j[30]=B,j[31]=h,j[32]=y,j[33]=v,j[34]=b):b=j[34],b});function v(e){let t,n,l,o,s,f,m,h,p,x,g,y,j=(0,r.c)(43);j[0]!==e?({directory:t,depth:o,leadingPath:s,sortByDiffOrder:l,...n}=e,j[0]=e,j[1]=t,j[2]=n,j[3]=l,j[4]=o,j[5]=s):(t=j[1],n=j[2],l=j[3],o=j[4],s=j[5]);let _=void 0===o?0:o,S=void 0===s?"":s,w=S?`${S}/`:"",C=a.useRef(null),N=a.useRef(null);j[6]===Symbol.for("react.memo_cache_sentinel")?(f={focusRowRef:N,mouseRowRef:C},j[6]=f):f=j[6];let D=(0,u.Z)(f);if(!t.files.length&&1===t.directories.length){let e,r;if(j[7]!==_||j[8]!==t.directories||j[9]!==t.name||j[10]!==n||j[11]!==w||j[12]!==l){let r;j[14]!==_||j[15]!==t.name||j[16]!==n||j[17]!==w||j[18]!==l?(r=e=>(0,i.jsx)(v,{depth:0===_?1:_,directory:e,leadingPath:`${w}${t.name}`,sortByDiffOrder:l,...n},e.path),j[14]=_,j[15]=t.name,j[16]=n,j[17]=w,j[18]=l,j[19]=r):r=j[19],e=t.directories.map(r),j[7]=_,j[8]=t.directories,j[9]=t.name,j[10]=n,j[11]=w,j[12]=l,j[13]=e}else e=j[13];return j[20]!==e?(r=(0,i.jsx)(i.Fragment,{children:e}),j[20]=e,j[21]=r):r=j[21],r}j[22]!==_||j[23]!==t||j[24]!==n||j[25]!==l?(m=function(){return(0,i.jsx)(b,{directory:t,depth:_,sortByDiffOrder:l,...n})},j[22]=_,j[23]=t,j[24]=n,j[25]=l,j[26]=m):m=j[26];let E=m;if(0===_){let e;return j[27]!==E?(e=E(),j[27]=E,j[28]=e):e=j[28],e}j[29]===Symbol.for("react.memo_cache_sentinel")?(h=(0,i.jsx)(c.G.LeadingVisual,{children:(0,i.jsx)(c.G.DirectoryIcon,{})}),j[29]=h):h=j[29];let I=`${w}${t.name}`;return j[30]!==I?(p=(0,i.jsx)("span",{ref:C,children:I}),j[30]=I,j[31]=p):p=j[31],j[32]!==t.name||j[33]!==w||j[34]!==D?(x=D&&(0,i.jsx)(d.m,{"data-testid":`${t.name}-directory-item-tooltip`,id:`${t.name}-directory-item-tooltip`,contentRef:N,"aria-label":`${w}${t.name}`,open:!0,direction:"ne"}),j[32]=t.name,j[33]=w,j[34]=D,j[35]=x):x=j[35],j[36]!==E?(g=(0,i.jsx)(c.G.SubTree,{children:E()}),j[36]=E,j[37]=g):g=j[37],j[38]!==t.path||j[39]!==p||j[40]!==x||j[41]!==g?(y=(0,i.jsxs)(c.G.Item,{ref:N,defaultExpanded:!0,id:t.path,children:[h,p,x,g]},t.path),j[38]=t.path,j[39]=p,j[40]=x,j[41]=g,j[42]=y):y=j[42],y}let b=(0,a.memo)(function(e){let t,n,l,a,o,s,c,d=(0,r.c)(20);d[0]!==e?({directory:t,fileNodeRenderer:n,sortByDiffOrder:a,depth:o,...l}=e,d[0]=e,d[1]=t,d[2]=n,d[3]=l,d[4]=a,d[5]=o):(t=d[1],n=d[2],l=d[3],a=d[4],o=d[5]);let f=void 0===o?0:o;if(d[6]!==f||d[7]!==t.directories||d[8]!==t.files||d[9]!==n||d[10]!==l||d[11]!==a){let e,r=t.files.map(_).concat(t.directories.map(S));a?r.sort(w):r.sort(C),d[13]!==f||d[14]!==n||d[15]!==l||d[16]!==a?(e=e=>"file"!==e.pathType?(0,i.jsx)(v,{depth:f+1,directory:e.node,fileNodeRenderer:n,sortByDiffOrder:a,...l},e.path):n?n({...l,file:e.node,depth:f+1}):(0,i.jsx)(y,{depth:f+1,file:e.node,...l},e.path),d[13]=f,d[14]=n,d[15]=l,d[16]=a,d[17]=e):e=d[17],s=r.map(e),d[6]=f,d[7]=t.directories,d[8]=t.files,d[9]=n,d[10]=l,d[11]=a,d[12]=s}else s=d[12];return d[18]!==s?(c=(0,i.jsx)(i.Fragment,{children:s}),d[18]=s,d[19]=c):c=d[19],c}),j=(0,a.memo)(function(e){let t,n,l,o,s,d,m,u,x,g,y,b=(0,r.c)(20);b[0]!==e?({diffs:n,fileNodeRenderer:l,sortByDiffOrder:s,className:t,...o}=e,b[0]=e,b[1]=t,b[2]=n,b[3]=l,b[4]=o,b[5]=s):(t=b[1],n=b[2],l=b[3],o=b[4],s=b[5]),b[6]!==n?(d=(0,f.xY)(n),b[6]=n,b[7]=d):d=b[7];let j=d,[_,S]=a.useState("");b[8]===Symbol.for("react.memo_cache_sentinel")?(m=()=>{S(((0,h.pd)(p.fV.hash??"")??"").replace("diff-",""))},b[8]=m):m=b[8];let w=m;return b[9]===Symbol.for("react.memo_cache_sentinel")?(u=()=>(window.addEventListener("hashchange",w),w(),()=>{window.removeEventListener("hashchange",w)}),x=[w],b[9]=u,b[10]=x):(u=b[9],x=b[10]),(0,a.useEffect)(u,x),b[11]!==l||b[12]!==o||b[13]!==j||b[14]!==_||b[15]!==s?(g=(0,i.jsx)(v,{directory:j,fileNodeRenderer:l,sortByDiffOrder:s,...o,hash:_}),b[11]=l,b[12]=o,b[13]=j,b[14]=_,b[15]=s,b[16]=g):g=b[16],b[17]!==t||b[18]!==g?(y=(0,i.jsx)(c.G,{"aria-label":"File Tree",className:t,children:g}),b[17]=t,b[18]=g,b[19]=y):y=b[19],y});try{y.displayName||(y.displayName="File")}catch{}try{v.displayName||(v.displayName="Directory")}catch{}try{b.displayName||(b.displayName="DirectoryRendering")}catch{}try{j.displayName||(j.displayName="DiffFileTree")}catch{}function _(e){return{path:e.filePath,pathType:"file",node:e,sortOrder:e.sortOrder}}function S(e){return{path:e.path,pathType:"directory",node:e,sortOrder:e.sortOrder}}function w(e,t){return e.sortOrder-t.sortOrder}function C(e,t){return(0,f.wH)(e.path,t.path)}},27028:(e,t,n)=>{n.d(t,{G:()=>O});var i=n(74848),r=n(21728),l=n(38621),a=n(5945),o=n(52446),s=n(34164),c=n(55847),d=n(57123),f=n(96540),m=n(21067),u=n(25407),h=n(76648),p=n(96379);function x(e){return!e.dismissed}function g(e){return 0===(function(){let e,t,n=(0,r.c)(5),i=(0,h.B)();if(!i){let e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],n[0]=e):e=n[0],e}n[1]!==i.userNotices?(e=i.userNotices??[],n[1]=i.userNotices,n[2]=e):e=n[2];let l=e;return n[3]!==l?(t=l.filter(x),n[3]=l,n[4]=t):t=n[4],t})().filter(t=>t.name===e).length}var y=n(70719);let v={PopoverContainer:"DiffCompactLinesPopover-module__PopoverContainer--A4URR",PopoverContent:"DiffCompactLinesPopover-module__PopoverContent--HUydq",Heading:"DiffCompactLinesPopover-module__Heading--hFmwp"},b="compact_diff_lines";function j(){let e,t,n,l,a,o,h,x,j,w,C=(0,r.c)(19),N=g(b),{dismissNotice:D}=function(e){let t,n,i=(0,r.c)(5),l=g(e);i[0]!==l||i[1]!==e?(t=()=>{(0,m.M3)()&&!l&&(0,p.DI)((0,u.VB1)({noticeName:e}),{method:"POST"})},i[0]=l,i[1]=e,i[2]=t):t=i[2];let a=t;return i[3]!==a?(n={dismissNotice:a},i[3]=a,i[4]=n):n=i[4],n}(b);C[0]===Symbol.for("react.memo_cache_sentinel")?(e={onSuccess:S,onError:_},C[0]=e):e=C[0];let{mutate:E}=(0,y.U)(e),[I,T]=(0,f.useState)(!0);C[1]!==D||C[2]!==E?(t=()=>{E({lineSpacing:"compact"}),T(!1),D()},C[1]=D,C[2]=E,C[3]=t):t=C[3];let P=t;C[4]!==D?(n=()=>{T(!1),D()},C[4]=D,C[5]=n):n=C[5];let k=n;return N?null:(C[6]===Symbol.for("react.memo_cache_sentinel")?(l=(0,s.$)("d-flex flex-column gap-2",v.PopoverContent),a=(0,i.jsx)("h2",{className:v.Heading,children:"Customizable line height"}),o=(0,i.jsx)("p",{children:"The default line height has been increased for improved accessibility. You can choose to enable a more compact line height from the view settings menu."}),C[6]=l,C[7]=a,C[8]=o):(l=C[6],a=C[7],o=C[8]),C[9]!==P?(h=(0,i.jsx)(c.Q,{onClick:P,children:"Enable compact line height"}),C[9]=P,C[10]=h):h=C[10],C[11]!==k?(x=(0,i.jsx)(c.Q,{onClick:k,variant:"invisible",children:"Dismiss"}),C[11]=k,C[12]=x):x=C[12],C[13]!==h||C[14]!==x?(j=(0,i.jsxs)(d.A.Content,{className:l,children:[a,o,(0,i.jsxs)("div",{className:"d-flex gap-2 flex-row w-full flex-wrap",children:[h,x]})]}),C[13]=h,C[14]=x,C[15]=j):j=C[15],C[16]!==I||C[17]!==j?(w=(0,i.jsx)(d.A,{open:I,caret:"top-right",className:v.PopoverContainer,children:j}),C[16]=I,C[17]=j,C[18]=w):w=C[18],w)}function _(){}function S(){}try{j.displayName||(j.displayName="DiffCompactLinesPopover")}catch{}var w=n(79472);function C(e){let t,n,l,a,s,c=(0,r.c)(15),{lineSpacingPreferenceAvailable:d,defaultHideWhitespace:f,onUpdateWhitespace:m,reloadOnChange:u}=e,h=void 0===d||d,{data:p}=(0,w.ID)(),x=(0,w.Qn)(void 0!==f&&f);c[0]===Symbol.for("react.memo_cache_sentinel")?(t={onSuccess:D,onError:N},c[0]=t):t=c[0];let{mutate:g}=(0,y.U)(t);c[1]!==x||c[2]!==m||c[3]!==u?(n=()=>{(0,w.bJ)("w",x?"0":"1"),m?.(!x),void 0!==u&&u()},c[1]=x,c[2]=m,c[3]=u,c[4]=n):n=c[4];let v=n;return p?(c[5]!==x||c[6]!==v?(l=(0,i.jsx)(o.l.Item,{selected:x,onSelect:v,children:"Hide whitespace"}),c[5]=x,c[6]=v,c[7]=l):l=c[7],c[8]!==p||c[9]!==h||c[10]!==g?(a=h&&(0,i.jsx)(o.l.Item,{selected:"compact"===p.lineSpacing,onSelect:()=>g({lineSpacing:"compact"===p.lineSpacing?"relaxed":"compact"}),children:"Compact line height"}),c[8]=p,c[9]=h,c[10]=g,c[11]=a):a=c[11],c[12]!==l||c[13]!==a?(s=(0,i.jsxs)(o.l.Group,{"aria-label":"Format",selectionVariant:"multiple",variant:"subtle",children:[l,a]}),c[12]=l,c[13]=a,c[14]=s):s=c[14],s):null}function N(){}function D(){}try{C.displayName||(C.displayName="DiffLinePresentationToggles")}catch{}function E(e){let t,n,l,a,s,c,d,f=(0,r.c)(17),{reloadOnChange:m}=e,u=void 0!==m&&m,{data:h}=(0,w.ID)(),p=h?.splitPreference;f[0]===Symbol.for("react.memo_cache_sentinel")?(t={onSuccess:T,onError:I},f[0]=t):t=f[0];let{mutate:x}=(0,y.U)(t);f[1]===Symbol.for("react.memo_cache_sentinel")?(n=(0,i.jsx)(o.l.GroupHeading,{children:"Layout"}),f[1]=n):n=f[1];let g="unified"===p;f[2]!==u||f[3]!==x?(l=()=>{x({splitPreference:"unified"}),(0,w.bJ)("diff","unified"),u&&window.location.reload()},f[2]=u,f[3]=x,f[4]=l):l=f[4],f[5]!==g||f[6]!==l?(a=(0,i.jsx)(o.l.Item,{selected:g,onSelect:l,children:"Unified"}),f[5]=g,f[6]=l,f[7]=a):a=f[7];let v="split"===p;return f[8]!==u||f[9]!==x?(s=()=>{x({splitPreference:"split"}),(0,w.bJ)("diff","split"),u&&window.location.reload()},f[8]=u,f[9]=x,f[10]=s):s=f[10],f[11]!==v||f[12]!==s?(c=(0,i.jsx)(o.l.Item,{selected:v,onSelect:s,children:"Split"}),f[11]=v,f[12]=s,f[13]=c):c=f[13],f[14]!==a||f[15]!==c?(d=(0,i.jsxs)(o.l.Group,{selectionVariant:"single",children:[n,a,c]}),f[14]=a,f[15]=c,f[16]=d):d=f[16],d}function I(){}function T(){}try{E.displayName||(E.displayName="DiffViewPreferenceToggle")}catch{}var P=n(18799);function k(){let e,t,n,l,a=(0,r.c)(8),{data:s}=(0,w.ID)();a[0]===Symbol.for("react.memo_cache_sentinel")?(e={onSuccess:F,onError:R},a[0]=e):e=a[0];let{mutate:c}=(0,y.U)(e);if(!s)return null;let d=s.commentsPreference===P.sI.Collapsed;return a[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,i.jsx)(o.l.Divider,{}),a[1]=t):t=a[1],a[2]!==d||a[3]!==c?(n=()=>c({commentsPreference:d?P.sI.Visible:P.sI.Collapsed}),a[2]=d,a[3]=c,a[4]=n):n=a[4],a[5]!==d||a[6]!==n?(l=(0,i.jsxs)(i.Fragment,{children:[t,(0,i.jsx)(o.l.Group,{"aria-label":"Comments",selectionVariant:"single",children:(0,i.jsx)(o.l.Item,{role:"menuitemcheckbox",selected:d,onSelect:n,children:"Minimize comments"})})]}),a[5]=d,a[6]=n,a[7]=l):l=a[7],l}function R(){}function F(){}try{k.displayName||(k.displayName="DiffCommentsPreferenceToggle")}catch{}var $=n(30459);function O(e){let t,n,c,d,f,m,u,h,p,x,g,y,v=(0,r.c)(27),{invisible:b,lineSpacingPreferenceAvailable:_,defaultHideWhitespace:S,onUpdateWhitespace:w,reloadOnSplitPreferenceChange:N,reloadOnWhitespaceChange:D,small:I}=e,T=void 0===_||_,P=void 0!==N&&N,{sendAnalyticsEvent:R}=(0,$.s)();v[0]!==R?(t=()=>{R("diff_view.settings.open","DIFF_VIEW_SETTINGS_BUTTON")},v[0]=R,v[1]=t):t=v[1];let F=t,O=void 0===b||b?"Button--invisible":"Button--secondary",A=I&&"Button--small";v[2]!==O||v[3]!==A?(n=(0,s.$)("Button Button--iconOnly",O,A),v[2]=O,v[3]=A,v[4]=n):n=v[4],v[5]===Symbol.for("react.memo_cache_sentinel")?(c=(0,i.jsx)(l.GearIcon,{}),v[5]=c):c=v[5],v[6]!==F||v[7]!==n?(d=(0,i.jsx)(a.W.Anchor,{children:(0,i.jsx)("button",{className:n,"aria-label":"Open diff view settings",onClick:F,children:c})}),v[6]=F,v[7]=n,v[8]=d):d=v[8],v[9]!==P?(f=(0,i.jsx)(E,{reloadOnChange:P}),v[9]=P,v[10]=f):f=v[10],v[11]===Symbol.for("react.memo_cache_sentinel")?(m=(0,i.jsx)(k,{}),u=(0,i.jsx)(o.l.Divider,{}),v[11]=m,v[12]=u):(m=v[11],u=v[12]);let G=void 0!==D&&D?B:void 0;return v[13]!==S||v[14]!==T||v[15]!==w||v[16]!==G?(h=(0,i.jsx)(C,{defaultHideWhitespace:S,lineSpacingPreferenceAvailable:T,onUpdateWhitespace:w,reloadOnChange:G}),v[13]=S,v[14]=T,v[15]=w,v[16]=G,v[17]=h):h=v[17],v[18]!==f||v[19]!==h?(p=(0,i.jsx)(a.W.Overlay,{children:(0,i.jsxs)(o.l,{children:[f,m,u,h]})}),v[18]=f,v[19]=h,v[20]=p):p=v[20],v[21]!==d||v[22]!==p?(x=(0,i.jsxs)(a.W,{children:[d,p]}),v[21]=d,v[22]=p,v[23]=x):x=v[23],v[24]===Symbol.for("react.memo_cache_sentinel")?(g=(0,i.jsx)(j,{}),v[24]=g):g=v[24],v[25]!==x?(y=(0,i.jsxs)(i.Fragment,{children:[x,g]}),v[25]=x,v[26]=y):y=v[26],y}function B(){return window.location.reload()}try{O.displayName||(O.displayName="DiffViewSettings")}catch{}},8624:(e,t,n)=>{n.d(t,{L:()=>s});var i=n(74848),r=n(21728),l=n(38621),a=n(87330),o=n(34164);let s=n(96540).forwardRef((e,t)=>{let n,s,c,d=(0,r.c)(17),{expanded:f,testid:m,ariaLabel:u,ariaControls:h,onToggleExpanded:p,alignment:x,dataHotkey:g,className:y,size:v,tooltipDirection:b,variant:j}=e,_=f?`collapse-${m}`:`expand-${m}`,S=f?"left"===x?l.SidebarExpandIcon:l.SidebarCollapseIcon:"left"===x?l.SidebarCollapseIcon:l.SidebarExpandIcon;d[0]!==p?(n=e=>{p(e)},d[0]=p,d[1]=n):n=d[1];let w=j??"invisible";return d[2]!==y?(s=(0,o.$)(y,"fgColor-muted"),d[2]=y,d[3]=s):s=d[3],d[4]!==h||d[5]!==u||d[6]!==g||d[7]!==f||d[8]!==t||d[9]!==v||d[10]!==_||d[11]!==S||d[12]!==n||d[13]!==w||d[14]!==s||d[15]!==b?(c=(0,i.jsx)(a.K,{"aria-label":u,tooltipDirection:b,ref:t,"data-testid":_,"aria-expanded":f,"aria-controls":h,icon:S,"data-hotkey":g,onClick:n,variant:w,size:v,className:s}),d[4]=h,d[5]=u,d[6]=g,d[7]=f,d[8]=t,d[9]=v,d[10]=_,d[11]=S,d[12]=n,d[13]=w,d[14]=s,d[15]=b,d[16]=c):c=d[16],c});s.displayName="ExpandButton"},94195:(e,t,n)=>{n.d(t,{Gy:()=>c,LB:()=>h,nn:()=>p,lm:()=>m});var i=n(74848),r=n(96540);let l=null,a=null,o=new Set;function s(e){return o.add(e),l||(l=new ResizeObserver(()=>{a||(a=requestAnimationFrame(()=>{for(let e of(a=null,o))e()}))})).observe(document.documentElement),()=>{o.delete(e),0===o.size&&l&&(l.disconnect(),l=null)}}let c={small:1,medium:544,large:768,xlarge:1012,xxlarge:1280,xxxlarge:1350,xxxxlarge:1440},d=[c.xxxxlarge,c.xxxlarge,c.xxlarge,c.xlarge,c.large,c.medium,c.small],f=r.createContext({screenSize:c.small});function m(){return r.useContext(f)}function u(){return p(window.innerWidth)}function h({children:e,initialValue:t=c.small}){let n=(0,r.useSyncExternalStore)(s,u,(0,r.useCallback)(()=>t,[t])),l=(0,r.useMemo)(()=>({screenSize:n}),[n]);return(0,i.jsx)(f.Provider,{value:l,children:e})}function p(e){for(let t of d)if(e>=t)return t;return c.small}try{f.displayName||(f.displayName="ScreenContext")}catch{}try{h.displayName||(h.displayName="ScreenSizeProvider")}catch{}}}]);
//# sourceMappingURL=packages_use-hide-footer_use-hide-footer_ts-packages_commits_shared_use-tree-pane_tsx-package-9c5f33-db4d5ac9404a.js.map